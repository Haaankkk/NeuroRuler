.. _structure:

.. role:: raw-html(raw)
    :format: html

#################
Project structure
#################

.. topic:: Overview

    This page describes the high-level structure of the codebase.

.. contents::
    :depth: 2

Top-level
#########

.. code-block:: text
    :linenos:

    NeuroRuler
    ├── .github                     GitHub Actions CI configuration.
    ├── .pre-commit-config.yaml     Pre-commit actions configuration.
    ├── .readthedocs.yaml           ReadTheDocs configuration.
    ├── LICENSE
    ├── NeuroRuler                  Source code
    ├── README.md
    ├── cli.py                      Script for running CLI. Apply -h option to see command-line options.
    ├── cli_config.json             Configuration file for CLI. Overriden by CLI.
    ├── data                        Images and ground truth data for unit tests.
    ├── docs                        Documentation.
    ├── gui.py                      Script for running GUI. Apply -h option to see command-line options.
    ├── gui_config.json             Configuration file for GUI. Overriden by CLI.
    ├── output                      Output directory.
    ├── pyproject.toml              Python project configuration.
    ├── requirements.txt            Developer dependencies. Contains all dependencies from setup.py.
    ├── requirements_CI.txt         GitHub Actions CI dependencies. Contains all dependencies from setup.py.
    ├── scripts
    ├── setup.py                    Lists all necessary dependencies installed during pip install. Python package configuration.
    ├── tests                       Tests. See tests/README.md for a note about CI tests in Ubuntu environments.
    └── tox.ini                     tox config file. Tox is used for running tests in different OS and Python environments.

Source code
###########

.. code-block:: text
    :linenos:

    NeuroRuler
    ├── __init__.py
    ├── CLI
    │   ├── __init__.py
    │   └── main.py                 CLI entrypoint.
    ├── GUI
    │   ├── __init__.py             Defines gui() for users to import after pip installation.
    │   ├── helpers.py              GUI helper functions.
    │   ├── main.py                 Contains all GUI code.
    │   ├── mainwindow.ui           PyQt UI skeleton made using Qt Designer (drag-and-drop UI builder).
    │   ├── static
    │   │   └── nr_logo.png         NeuroRuler logo used as icon in GUI.
    │   └── themes                  Contains .qss and resources.py (compiled QRC resources files, GUI icons) files for all themes. Generated by https://github.com/NIRALUser/BreezeStyleSheets.
    │       ├── dark
    │       ├── dark-green
    │       ├── dark-nr
    │       ├── dark-purple
    │       ├── light
    │       ├── light-green
    │       ├── light-nr
    │       └── light-purple
    └── utils
        ├── __init__.py
        ├── cli_settings.py         CLI settings set through command-line arguments and cli_config.json.
        ├── constants.py            Constant values and functions. Don't mutate any variable in this file from outside of this file.
        ├── exceptions.py           Custom exceptions.
        ├── global_vars.py          Global variables that change throughout program execution.
        ├── gui_settings.py         GUI settings set through command-line arguments and gui_config.json.
        ├── img_helpers.py          Image helper functions that aren't quite part of the main algorithm. Mostly holds helper functions for working with global_vars.IMAGE_DICT.
        ├── imgproc.py              The main algorithm.
        └── parser.py               Parse config JSON and CLI arguments to set global settings in gui_settings.py and cli_settings.py.

Tree
####
These diagrams were generated using `tree <https://en.wikipedia.org/wiki/Tree_(command)>`_.
Irrelevant files were removed, and some hidden dotfiles were added.
