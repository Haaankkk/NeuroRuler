.. _structure:

.. role:: raw-html(raw)
    :format: html

#################
Project structure
#################

.. topic:: Overview

    This page describes the structure of the codebase. Most descriptions of files are paraphrased from the docstrings of the files.

.. contents::
    :depth: 2

Root
####

.. code-block:: text
    :linenos:

    NeuroRuler
    ├── .github                     GitHub Actions CI configuration
    ├── .pre-commit-config.yaml     Pre-commit actions (formatting) configuration
    ├── .readthedocs.yaml           ReadTheDocs configuration
    ├── CITATION.cff                Metadata for "Cite this repository" button on GitHub homepage
    ├── LICENSE                     MIT
    ├── NeuroRuler                  Source code
    ├── README.md
    ├── cli.py                      Script for running CLI. Apply -h option to see command-line options
    ├── cli_config.json             Configuration file for CLI. Overriden by command-line arguments
    ├── data                        Images and ground truth data for unit tests
    ├── docs                        Documentation
    ├── gui.py                      Script for running GUI. Apply -h option to see command-line options
    ├── gui_config.json             Configuration file for GUI. Overriden by command-line arguments
    ├── output                      Output directory
    ├── pyproject.toml              Python project configuration
    ├── requirements.txt            Developer dependencies, contains all dependencies from setup.py
    ├── requirements_CI.txt         GitHub Actions CI dependencies, contains all dependencies from setup.py
    ├── setup.py                    Python package configuration; lists all necessary dependencies installed during pip install
    ├── testdist                    Script for testing package before PyPI release
    ├── tests                       See tests/README.md for a note about skipped CI tests in Ubuntu environments
    └── tox.ini                     Tox config file; tox is used for running tests in different OS and Python environments

Source code
###########

.. code-block:: text
    :linenos:

    NeuroRuler
    ├── __init__.py
    ├── CLI
    │   ├── __init__.py
    │   └── main.py                 CLI entrypoint
    ├── GUI
    │   ├── __init__.py             Defines gui() for users to import after pip installation
    │   ├── helpers.py              GUI helper functions
    │   ├── main.py                 Contains all GUI code
    │   ├── mainwindow.ui           PyQt UI skeleton made using Qt Designer (drag-and-drop UI builder)
    │   ├── static
    │   │   └── nr_logo.png         NeuroRuler logo used as icon in GUI
    │   └── themes                  Contains .qss and resources.py (compiled QRC resources files, GUI icons) files for all themes. Generated by https://github.com/NIRALUser/BreezeStyleSheets
    │       ├── dark
    │       ├── dark-green
    │       ├── dark-nr
    │       ├── dark-purple
    │       ├── light
    │       ├── light-green
    │       ├── light-nr
    │       └── light-purple
    └── utils
        ├── __init__.py
        ├── cli_settings.py         CLI settings set through command-line arguments and cli_config.json
        ├── constants.py            Constant values and helper functions; don't mutate any variable in this file from outside of this file
        ├── exceptions.py           Custom exceptions
        ├── global_vars.py          Global variables that change throughout program execution
        ├── gui_settings.py         GUI settings set through command-line arguments and gui_config.json
        ├── img_helpers.py          Image helper functions that aren't part of the main algorithm, mostly holds helper functions for working with global_vars.IMAGE_DICT
        ├── imgproc.py              Functions relating to contour and arc length algorithm
        └── parser.py               Parse config JSON and CLI arguments to set global settings in gui_settings.py and cli_settings.py

Tree
####
These diagrams were generated using `tree <https://en.wikipedia.org/wiki/Tree_(command)>`_.
Irrelevant files were removed, and some hidden dotfiles were added.
